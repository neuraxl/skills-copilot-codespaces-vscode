<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NeuraX – Galaxies Titans</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: white;
      font-family: 'Papyrus', fantasy;
    }
    #galaxyCanvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 15px;
      background: rgba(0, 0, 0, 0.4);
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      color: gold;
      text-shadow: 0 0 10px #ffcc00, 0 0 20px #ffcc00, 0 0 30px #ff9900;
      animation: glow 3s ease-in-out infinite alternate;
      backdrop-filter: blur(6px);
      z-index: 10;
    }
    @keyframes glow {
      from { text-shadow: 0 0 10px #ffcc00; }
      to { text-shadow: 0 0 30px #ffaa00; }
    }
    .solar-system {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid gold;
      padding: 20px;
      background: rgba(20, 20, 0, 0.9);
      border-radius: 15px;
      text-align: center;
    }
    .planet {
      display: inline-block;
      margin: 10px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffaa00, #550000);
      cursor: pointer;
      animation: orbit 5s linear infinite;
      position: relative;
    }
    @keyframes orbit {
      0% { transform: rotate(0deg) translateX(100px) rotate(0deg); }
      100% { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
    }
    .civilization {
      margin-top: 10px;
      padding: 10px;
      background: #111;
      border: 1px solid #444;
      border-radius: 10px;
    }
    .avatar {
      width: 50px;
      height: 50px;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Egyptian_God_Horus.svg/1200px-Egyptian_God_Horus.svg.png');
      background-size: contain;
      background-repeat: no-repeat;
      margin-top: 5px;
    }
    .close-btn {
      margin-top: 15px;
      padding: 8px 16px;
      background: crimson;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .intro {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: gold;
      font-size: 24px;
      text-align: center;
      background: rgba(0, 0, 0, 0.8);
      padding: 30px;
      border: 2px solid gold;
      border-radius: 20px;
      z-index: 15;
    }
    .intro button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      background: gold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="header">Galaxie X – Les Chroniques de NeuraX</div>
  <canvas id="galaxyCanvas"></canvas>
  <div id="solarSystem" class="solar-system"></div>
  <div id="intro" class="intro">
    <p>Bienvenue dans Galaxie X, l'archive vivante des civilisations titanesques. Chaque étoile cache un secret, chaque planète une légende.</p>
    <button onclick="startExperience()">Entrer dans la galaxie</button>
  </div>
  <audio id="ambientSound" src="https://cdn.pixabay.com/download/audio/2022/08/04/audio_493faebcf4.mp3?filename=deep-space-ambient-112124.mp3" loop></audio>

  <script>
    const canvas = document.getElementById('galaxyCanvas');
    const ctx = canvas.getContext('2d');
    let galaxies = [];
    let w = window.innerWidth;
    let h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;

    for (let i = 0; i < 100; i++) {
      galaxies.push({
        x: Math.random() * w,
        y: Math.random() * h,
        vx: (Math.random() - 0.5) * 0.4,
        vy: (Math.random() - 0.5) * 0.4,
        r: 6 + Math.random() * 6,
        id: i
      });
    }

    function draw() {
      ctx.clearRect(0, 0, w, h);
      galaxies.forEach(g => {
        ctx.beginPath();
        const gradient = ctx.createRadialGradient(g.x, g.y, 0, g.x, g.y, g.r);
        gradient.addColorStop(0, '#fff');
        gradient.addColorStop(1, '#88f');
        ctx.fillStyle = gradient;
        ctx.arc(g.x, g.y, g.r, 0, Math.PI * 2);
        ctx.fill();
      });
    }

    function update() {
      galaxies.forEach(g => {
        g.x += g.vx;
        g.y += g.vy;
        if (g.x < 0 || g.x > w) g.vx *= -1;
        if (g.y < 0 || g.y > h) g.vy *= -1;
      });
    }

    function animate() {
      update();
      draw();
      requestAnimationFrame(animate);
    }

    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const clickY = e.clientY - rect.top;
      galaxies.forEach(g => {
        const dx = g.x - clickX;
        const dy = g.y - clickY;
        if (dx * dx + dy * dy < g.r * g.r) {
          showSolarSystem(g.id);
        }
      });
    });

    function generateCultureName(id) {
      const prefixes = ['Ankh', 'Ra', 'Zep', 'Khe', 'Os', 'Sob'];
      const suffixes = ['mir', 'thys', 'ra', 'tep', 'khet', 'nut'];
      return prefixes[id % prefixes.length] + suffixes[(id * 3) % suffixes.length];
    }

    function showSolarSystem(galaxyId) {
      const system = document.getElementById('solarSystem');
      system.innerHTML = '';
      system.style.display = 'block';
      for (let i = 0; i < 12; i++) {
        const planet = document.createElement('div');
        planet.className = 'planet';
        planet.onclick = () => showCivilization(i);
        const avatar = document.createElement('div');
        avatar.className = 'avatar';
        planet.appendChild(avatar);
        system.appendChild(planet);
      }
      const closeBtn = document.createElement('button');
      closeBtn.textContent = 'Retour';
      closeBtn.className = 'close-btn';
      closeBtn.onclick = () => { system.style.display = 'none'; };
      system.appendChild(closeBtn);
    }

    function showCivilization(planetId) {
      const system = document.getElementById('solarSystem');
      const civ = document.createElement('div');
      civ.className = 'civilization';
      const name = generateCultureName(planetId);
      const text = `Bienvenue dans la civilisation antique des 20,000 millions de Titans, connue sous le nom de ${name}. Leur architecture évoque les temples cosmiques et chaque titan incarne un fragment d'univers perdu.`;
      civ.innerHTML = `<h3>Planète ${planetId + 1}</h3><p>${text}</p>`;
      system.appendChild(civ);
      speak(text);
      const ambient = document.getElementById('ambientSound');
      ambient.src = `https://cdn.pixabay.com/download/audio/2022/08/04/audio_493faebcf4.mp3?planet=${planetId}`;
      ambient.play();
    }

    function speak(text) {
      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'fr-FR';
      utter.rate = 0.9;
      utter.pitch = 0.8;
      synth.speak(utter);
    }

    function startExperience() {
      document.getElementById('intro').style.display = 'none';
      document.getElementById('ambientSound').play();
    }

    animate();
    window.onresize = () => {
      w = window.innerWidth;
      h = window.innerHeight;
      canvas.width = w;
      canvas.height = h;
    };
  </script>
</body>
</html>
